(()=>{var e={};e.id=51,e.ids=[51],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},6470:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(260),n=s(8203),o=s(5155),i=s.n(o),a=s(7292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let d=["",{children:["todo",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2128)),"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/todo/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/todo/[id]/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/todo/[id]/page",pathname:"/todo/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3572:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3219,23)),Promise.resolve().then(s.t.bind(s,4863,23)),Promise.resolve().then(s.t.bind(s,5155,23)),Promise.resolve().then(s.t.bind(s,802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,8530,23)),Promise.resolve().then(s.t.bind(s,8921,23))},6308:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,3875,23)),Promise.resolve().then(s.t.bind(s,8903,23)),Promise.resolve().then(s.t.bind(s,7174,23)),Promise.resolve().then(s.t.bind(s,4178,23)),Promise.resolve().then(s.t.bind(s,7190,23)),Promise.resolve().then(s.t.bind(s,1365,23))},608:(e,t,s)=>{Promise.resolve().then(s.bind(s,4881))},8475:(e,t,s)=>{Promise.resolve().then(s.bind(s,2109))},7430:(e,t,s)=>{Promise.resolve().then(s.bind(s,2128))},4286:(e,t,s)=>{Promise.resolve().then(s.bind(s,572))},9371:(e,t,s)=>{"use strict";s.d(t,{l:()=>a});var r=s(5512),n=s(9334),o=s(8009),i=s(8207);let a=e=>{let[t,s]=(0,o.useState)(e.todo.todo),[a,l]=(0,o.useState)("describe..."),{mutate:d}=(0,i.kp)(),c=(0,n.useRouter)();function u(e){let t=e.target.files[0];if(t){let e=new FileReader;e.onload=()=>{p(e.result)},e.readAsDataURL(t)}}let p=t=>{let s=t.split(";"),r=s[0].split(":")[1],n=s[1];d({id:e.todo.id,mime:r,image:n})},m=s=>{s.preventDefault(),e.callback(t,a)},h=t=>{t.preventDefault(),e.callbackDelete&&e.callbackDelete()};return(0,r.jsx)("div",{children:(0,r.jsxs)("form",{children:[(0,r.jsx)("div",{className:"space-y-12",children:(0,r.jsxs)("div",{className:"border-b border-gray-900/10 pb-12",children:[(0,r.jsx)("h2",{className:"text-base/7 font-semibold text-gray-900",children:"Profile"}),(0,r.jsx)("p",{className:"mt-1 text-sm/6 text-gray-600",children:"This information will be displayed publicly so be careful what you share."}),(0,r.jsx)("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,r.jsxs)("div",{className:"sm:col-span-4",children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900",children:"Todo Title:"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("input",{type:"name",autoComplete:"name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",value:t,onChange:e=>s(e.target.value)})}),(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900 pt-6",children:"Description:"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("input",{type:"name",autoComplete:"name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",value:a,onChange:e=>l(e.target.value)})}),(()=>{if(e.todo.imageUrl)return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900 pt-6",children:"Image:"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:e.todo.imageUrl,height:50,width:100})})]})})(),(()=>{if(e.editMode)return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900 pt-6",children:"Choose Image:"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("input",{type:"file",accept:".png,jpeg,.jpg",onChange:u})})]})})(),(()=>{if(e.editMode)return(0,r.jsx)("button",{onClick:e=>h(e),type:"button",className:"text-sm/6 font-semibold text-red-600 pt-6 pl-3",children:"Delete"})})()]})})]})}),(0,r.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,r.jsx)("button",{onClick:()=>c.back(),type:"button",className:"text-sm/6 font-semibold text-gray-900",children:"Cancel"}),(0,r.jsx)("button",{onClick:e=>m(e),type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Save"})]})]})})}},8207:(e,t,s)=>{"use strict";s.d(t,{Jm:()=>u,SB:()=>d,TP:()=>m,kp:()=>x,xV:()=>a});var r=s(4186),n=s(191),o=s(6827),i=s(9334);let a=()=>{let e=(0,i.useRouter)(),t=(0,r.jE)();return(0,n.n)({mutationFn:({id:e,name:t})=>l(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["todo"]}),e.push("/todo/")}})},l=(e,t)=>fetch(o.H$+"update/"+e,{mode:"cors",body:JSON.stringify({todo:t}),headers:{"Content-Type":"application/json"},method:"post"}).then(e=>e.json()),d=()=>{let e=(0,i.useRouter)(),t=(0,r.jE)();return(0,n.n)({mutationFn:({name:e})=>c(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),e.push("/todo/")}})},c=e=>fetch(o.H$+"create/",{mode:"cors",body:JSON.stringify({todo:e}),headers:{"Content-Type":"application/json"},method:"post"}).then(e=>e.json()),u=()=>{let e=(0,i.useRouter)(),t=(0,r.jE)();return(0,n.n)({mutationFn:({id:e})=>p(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),e.push("/todo/")}})},p=e=>fetch(o.H$+"delete/"+e,{mode:"cors",headers:{"Content-Type":"application/json"},method:"delete"}).then(e=>e.json()),m=()=>{let e=(0,r.jE)();return(0,n.n)({mutationFn:({id:e,completed:t})=>h(e,t),onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})},h=(e,t)=>fetch(o.H$+"complete/"+e,{mode:"cors",body:JSON.stringify({completed:t}),headers:{"Content-Type":"application/json"},method:"put"}).then(e=>e.json()),x=()=>{let e=(0,r.jE)();return(0,n.n)({mutationFn:({id:e,mime:t,image:s})=>f(e,t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["todo"]})}})},f=(e,t,s)=>fetch(o.H$+"upload/"+e,{mode:"cors",body:JSON.stringify({mime:t,image:s}),headers:{"Content-Type":"application/json"},method:"put"}).then(e=>e.json())},2109:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(5512),n=s(7166),o=s(4186),i=s(7181),a=s(8009);function l({children:e}){let[t]=(0,a.useState)(()=>new n.E({defaultOptions:{queries:{staleTime:6e4}}}));return(0,r.jsxs)(o.Ht,{client:t,children:[e,(0,r.jsx)(i.E,{initialIsOpen:!1})]})}},6827:(e,t,s)=>{"use strict";s.d(t,{Cy:()=>o,H$:()=>n,jp:()=>a});var r=s(9633);let n="https://hfyi00ou55.execute-api.eu-west-1.amazonaws.com/dev/",o=()=>(0,r.I)({queryKey:["todos"],queryFn:i}),i=()=>fetch(n,{mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()),a=e=>(0,r.I)({queryKey:["todo",e],queryFn:()=>l(e),enabled:!!e}),l=e=>fetch(n+e,{mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json())},572:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5512),n=s(9371),o=s(8207),i=s(6827),a=s(8009);function l({params:e}){let{id:t}=(0,a.use)(e),{data:s,isLoading:l,refetch:d}=(0,i.jp)(t),{mutate:c}=(0,o.xV)(),{mutate:u}=(0,o.Jm)();return l||!s?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsx)("div",{children:(0,r.jsx)(n.l,{todo:s,callback:e=>{c({id:t,name:e})},editMode:!0,callbackDelete:()=>{u({id:t})},createMode:!0})})}},1354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>d});var r=s(2740),n=s(2202),o=s.n(n),i=s(4988),a=s.n(i);s(1135);var l=s(4881);let d={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${o().variable} ${a().variable} antialiased bg-gradient-to-r from-violet-200 to-pink-200`,children:(0,r.jsx)(l.default,{children:(0,r.jsx)("div",{className:"lg:flex lg:items-center lg:justify-between p-10",children:(0,r.jsx)("div",{className:"min-w-0 flex-1",children:e})})})})})}},4881:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/query/providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/query/providers.tsx","default")},2128:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/todo/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/todo/[id]/page.tsx","default")},440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(8077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,473,77,630],()=>s(6470));module.exports=r})();