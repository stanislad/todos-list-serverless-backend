(()=>{var e={};e.id=547,e.ids=[547],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},1984:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(260),n=s(8203),o=s(5155),i=s.n(o),a=s(7292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let d=["",{children:["todo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1080)),"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/todo/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/todo/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/todo/page",pathname:"/todo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3572:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3219,23)),Promise.resolve().then(s.t.bind(s,4863,23)),Promise.resolve().then(s.t.bind(s,5155,23)),Promise.resolve().then(s.t.bind(s,802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,8530,23)),Promise.resolve().then(s.t.bind(s,8921,23))},6308:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,3875,23)),Promise.resolve().then(s.t.bind(s,8903,23)),Promise.resolve().then(s.t.bind(s,7174,23)),Promise.resolve().then(s.t.bind(s,4178,23)),Promise.resolve().then(s.t.bind(s,7190,23)),Promise.resolve().then(s.t.bind(s,1365,23))},608:(e,t,s)=>{Promise.resolve().then(s.bind(s,4881))},8475:(e,t,s)=>{Promise.resolve().then(s.bind(s,2109))},136:(e,t,s)=>{Promise.resolve().then(s.bind(s,1080))},4984:(e,t,s)=>{Promise.resolve().then(s.bind(s,6987))},8207:(e,t,s)=>{"use strict";s.d(t,{Jm:()=>p,SB:()=>d,TP:()=>m,kp:()=>x,xV:()=>a});var r=s(4186),n=s(191),o=s(6827),i=s(9334);let a=()=>{let e=(0,i.useRouter)(),t=(0,r.jE)();return(0,n.n)({mutationFn:({id:e,name:t})=>l(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["todo"]}),e.push("/todo/")}})},l=(e,t)=>fetch(o.H$+"update/"+e,{mode:"cors",body:JSON.stringify({todo:t}),headers:{"Content-Type":"application/json"},method:"post"}).then(e=>e.json()),d=()=>{let e=(0,i.useRouter)(),t=(0,r.jE)();return(0,n.n)({mutationFn:({name:e})=>c(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),e.push("/todo/")}})},c=e=>fetch(o.H$+"create/",{mode:"cors",body:JSON.stringify({todo:e}),headers:{"Content-Type":"application/json"},method:"post"}).then(e=>e.json()),p=()=>{let e=(0,i.useRouter)(),t=(0,r.jE)();return(0,n.n)({mutationFn:({id:e})=>u(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),e.push("/todo/")}})},u=e=>fetch(o.H$+"delete/"+e,{mode:"cors",headers:{"Content-Type":"application/json"},method:"delete"}).then(e=>e.json()),m=()=>{let e=(0,r.jE)();return(0,n.n)({mutationFn:({id:e,completed:t})=>h(e,t),onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})},h=(e,t)=>fetch(o.H$+"complete/"+e,{mode:"cors",body:JSON.stringify({completed:t}),headers:{"Content-Type":"application/json"},method:"put"}).then(e=>e.json()),x=()=>{let e=(0,r.jE)();return(0,n.n)({mutationFn:({id:e,mime:t,image:s})=>y(e,t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["todo"]})}})},y=(e,t,s)=>fetch(o.H$+"upload/"+e,{mode:"cors",body:JSON.stringify({mime:t,image:s}),headers:{"Content-Type":"application/json"},method:"put"}).then(e=>e.json())},2109:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(5512),n=s(7166),o=s(4186),i=s(7181),a=s(8009);function l({children:e}){let[t]=(0,a.useState)(()=>new n.E({defaultOptions:{queries:{staleTime:6e4}}}));return(0,r.jsxs)(o.Ht,{client:t,children:[e,(0,r.jsx)(i.E,{initialIsOpen:!1})]})}},6827:(e,t,s)=>{"use strict";s.d(t,{Cy:()=>o,H$:()=>n,jp:()=>a});var r=s(9633);let n="https://hfyi00ou55.execute-api.eu-west-1.amazonaws.com/dev/",o=()=>(0,r.I)({queryKey:["todos"],queryFn:i}),i=()=>fetch(n,{mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()),a=e=>(0,r.I)({queryKey:["todo",e],queryFn:()=>l(e),enabled:!!e}),l=e=>fetch(n+e,{mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json())},6987:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(5512),n=s(9334);let o=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});var i=s(8009),a=s(8207);let l=e=>{let[t,s]=(0,i.useState)(e.completed),{mutate:n}=(0,a.TP)(),o=r=>{r.stopPropagation();let o=!t;s(o),n({id:e.id,completed:o})};return(0,r.jsx)("div",{className:"pt-6 pl-4",children:(0,r.jsx)("input",{id:"default-checkbox",type:"checkbox",checked:t,onClick:e=>o(e),className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})})},d=e=>{let t=(0,n.useRouter)(),s=e=>{t.push("/todo/"+e)},i=e.items.map((e,t)=>{let n=e.completed?"opacity-70":"opacity-100";return(0,r.jsxs)("li",{onClick:()=>s(e.id),className:`flex justify-between gap-x-6 py-5 cursor-pointer ${n}`,children:[(0,r.jsxs)("div",{className:"flex min-w-0 gap-x-4",children:[(0,r.jsx)(l,{id:e.id,completed:e.completed}),(0,r.jsx)("img",{alt:"",src:e.imageUrl??"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGh5WFH8TOIfRKxUrIgJZoDCs1yvQ4hIcppw&s",className:"size-16 flex-none rounded-full bg-gray-50"}),(0,r.jsxs)("div",{className:"min-w-0 flex-auto pt-2",children:[(0,r.jsx)("p",{className:"text-sm/12 font-semibold text-gray-900",children:e.todo}),(0,r.jsx)("p",{className:"mt-1 truncate text-xs/5 text-gray-500",children:e.completed?"Completed":"Not Completed"})]})]}),(0,r.jsx)("div",{className:"hidden shrink-0 sm:flex sm:flex-col sm:items-end",children:(0,r.jsx)("p",{className:"text-sm/6 text-gray-900",children:o(e.createdAt.toString())})})]},t)});return(0,r.jsx)("ul",{role:"list",className:"divide-y divide-gray-100 py-10 px-20",children:i})};var c=s(6827);let p=e=>(0,r.jsx)("span",{className:"hidden sm:block",children:(0,r.jsx)("button",{onClick:e.callback,type:"button",className:"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:e.buttonText})});function u(){let[e,t]=(0,i.useState)([]),{data:s,isFetched:o}=(0,c.Cy)(),a=(0,n.useRouter)();return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl/7 font-bold text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Todo List Items:"}),(0,r.jsx)("div",{className:"float-right",children:(0,r.jsx)(p,{buttonText:"Create Todo",callback:()=>{a.push("todo/create")}})}),(0,r.jsx)(d,{items:e})]})}},1354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>d});var r=s(2740),n=s(2202),o=s.n(n),i=s(4988),a=s.n(i);s(1135);var l=s(4881);let d={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${o().variable} ${a().variable} antialiased bg-gradient-to-r from-violet-200 to-pink-200`,children:(0,r.jsx)(l.default,{children:(0,r.jsx)("div",{className:"lg:flex lg:items-center lg:justify-between p-10",children:(0,r.jsx)("div",{className:"min-w-0 flex-1",children:e})})})})})}},4881:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/query/providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/query/providers.tsx","default")},1080:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/todo/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/stanislav.synenko/Documents/learning/next/serverless-react-app/first-next-query-app/src/app/todo/page.tsx","default")},440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(8077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,473,77,630],()=>s(1984));module.exports=r})();