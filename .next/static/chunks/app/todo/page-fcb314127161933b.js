(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{8528:(e,t,s)=>{Promise.resolve().then(s.bind(s,2690))},7969:(e,t,s)=>{"use strict";s.d(t,{Jm:()=>u,SB:()=>l,TP:()=>p,kp:()=>y,xV:()=>i});var o=s(5906),n=s(5848),r=s(1269),a=s(6046);let i=()=>{let e=(0,a.useRouter)(),t=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{id:t,name:s}=e;return d(t,s)},onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["todo"]}),e.push("/todo/")}})},d=(e,t)=>fetch(r.H$+"update/"+e,{mode:"cors",body:JSON.stringify({todo:t}),headers:{"Content-Type":"application/json"},method:"post"}).then(e=>e.json()),l=()=>{let e=(0,a.useRouter)(),t=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{name:t}=e;return c(t)},onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),e.push("/todo/")}})},c=e=>fetch(r.H$+"create/",{mode:"cors",body:JSON.stringify({todo:e}),headers:{"Content-Type":"application/json"},method:"post"}).then(e=>e.json()),u=()=>{let e=(0,a.useRouter)(),t=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{id:t}=e;return m(t)},onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),e.push("/todo/")}})},m=e=>fetch(r.H$+"delete/"+e,{mode:"cors",headers:{"Content-Type":"application/json"},method:"delete"}).then(e=>e.json()),p=()=>{let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{id:t,completed:s}=e;return h(t,s)},onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})},h=(e,t)=>fetch(r.H$+"complete/"+e,{mode:"cors",body:JSON.stringify({completed:t}),headers:{"Content-Type":"application/json"},method:"put"}).then(e=>e.json()),y=()=>{let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{id:t,mime:s,image:o}=e;return x(t,s,o)},onSuccess:()=>{e.invalidateQueries({queryKey:["todo"]})}})},x=(e,t,s)=>fetch(r.H$+"upload/"+e,{mode:"cors",body:JSON.stringify({mime:t,image:s}),headers:{"Content-Type":"application/json"},method:"put"}).then(e=>e.json())},1269:(e,t,s)=>{"use strict";s.d(t,{Cy:()=>r,H$:()=>n,jp:()=>i});var o=s(547);let n="https://hfyi00ou55.execute-api.eu-west-1.amazonaws.com/dev/",r=()=>(0,o.I)({queryKey:["todos"],queryFn:a}),a=()=>fetch(n,{mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()),i=e=>(0,o.I)({queryKey:["todo",e],queryFn:()=>d(e),enabled:!!e}),d=e=>fetch(n+e,{mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json())},2690:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var o=s(5155),n=s(6046);let r=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});var a=s(2115),i=s(7969);let d=e=>{let[t,s]=(0,a.useState)(e.completed),{mutate:n}=(0,i.TP)(),r=o=>{o.stopPropagation();let r=!t;s(r),n({id:e.id,completed:r})};return(0,o.jsx)("div",{className:"pt-6 pl-4",children:(0,o.jsx)("input",{id:"default-checkbox",type:"checkbox",checked:t,onClick:e=>r(e),className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})})},l=e=>{let t=(0,n.useRouter)(),s=e=>{t.push("/todo/"+e)},a=e.items.map((e,t)=>{var n;let a=e.completed?"opacity-70":"opacity-100";return(0,o.jsxs)("li",{onClick:()=>s(e.id),className:"flex justify-between gap-x-6 py-5 cursor-pointer ".concat(a),children:[(0,o.jsxs)("div",{className:"flex min-w-0 gap-x-4",children:[(0,o.jsx)(d,{id:e.id,completed:e.completed}),(0,o.jsx)("img",{alt:"",src:null!==(n=e.imageUrl)&&void 0!==n?n:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGh5WFH8TOIfRKxUrIgJZoDCs1yvQ4hIcppw&s",className:"size-16 flex-none rounded-full bg-gray-50"}),(0,o.jsxs)("div",{className:"min-w-0 flex-auto pt-2",children:[(0,o.jsx)("p",{className:"text-sm/12 font-semibold text-gray-900",children:e.todo}),(0,o.jsx)("p",{className:"mt-1 truncate text-xs/5 text-gray-500",children:e.completed?"Completed":"Not Completed"})]})]}),(0,o.jsx)("div",{className:"hidden shrink-0 sm:flex sm:flex-col sm:items-end",children:(0,o.jsx)("p",{className:"text-sm/6 text-gray-900",children:r(e.createdAt.toString())})})]},t)});return(0,o.jsx)("ul",{role:"list",className:"divide-y divide-gray-100 py-10 px-20",children:a})};var c=s(1269);let u=e=>(0,o.jsx)("span",{className:"hidden sm:block",children:(0,o.jsx)("button",{onClick:e.callback,type:"button",className:"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:e.buttonText})});function m(){let[e,t]=(0,a.useState)([]),{data:s,isFetched:r}=(0,c.Cy)(),i=(0,n.useRouter)();return(0,a.useEffect)(()=>{r&&t(s.message)},[s,r]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl/7 font-bold text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Todo List Items:"}),(0,o.jsx)("div",{className:"float-right",children:(0,o.jsx)(u,{buttonText:"Create Todo",callback:()=>{i.push("todo/create")}})}),(0,o.jsx)(l,{items:e})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[239,701,441,517,358],()=>t(8528)),_N_E=e.O()}]);